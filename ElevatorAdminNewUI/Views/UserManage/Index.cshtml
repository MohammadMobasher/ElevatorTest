@model IEnumerable<DataLayer.DTO.UserDTO.UsersManageDTO>
@using DNTPersianUtils.Core
@{
    ViewBag.Title = "مدیریت کاربران";
}









<section id="fixedheader">
    <div class="row">
        <div class="col-12">
            <div class="card ">
                <div class="card-header-green">
                </div>
                <div class="card-content collapse show">
                    <div class="card-body card-dashboard body-half-screen">
                        <div class="">
                            <table class="table  table-striped table-hover table-striped table-valigned text-center">
                                <thead>
                                    <tr>
                                        <th>ردیف</th>
                                        <th >نام و نام خانوادگی</th>
                                        <th>نام کاربری</th>
                                        <th>ایمیل</th>
                                        @*<th>وضعیت</th>*@
                                        <th>شماره تماس</th>
                                        <th>تاریخ ثبت نام</th>
                                        <th>اقدامات</th>

                                    </tr>

                                </thead>
                                <tbody class="">

                                    <tr>
                                        <form method="get" name="searchForm form-inline row">
                                            <td>---</td>
                                            <td>
                                                <input type="text" name="UserName" value="@ViewBag.SearchModel.UserName" class="searchInput form-control" />
                                            </td>
                                            <td><input type="text" name="FirstName" value="@ViewBag.SearchModel.FirstName" class="searchInput form-control" /></td>
                                            <td><input type="text" name="UserName" value="@ViewBag.SearchModel.UserName" class="searchInput form-control" /></td>
                                            <td><input type="text" name="UserName" value="@ViewBag.SearchModel.UserName" class="searchInput form-control" /></td>
                                            <td>---</td>
                                            <td>---</td>

                                            <input type="submit" class="hidden searchBtn" value="جستجو" />
                                        </form>
                                    </tr>

                                    @{ var raw = 1;}
                                    @foreach (var item in Model)
                                    {
                                        <tr>
                                            <td>@(raw++)</td>
                                            <td>@item.FirstName @item.LastName</td>
                                            <td>@item.UserName</td>
                                            <td>@item.Email</td>


                                            <td>@item.PhoneNumber</td>
                                            <td>@item.CreateDate.ToPersianDateTextify()</td>
                                            <td>

                                                <TableRowBotton controller="UserManage" action="UserChangeStatus" Id="@item.Id"
                                                                isModal="false"
                                                                modalTitle="تغییر وضعیت"
                                                                title="تغییر وضعیت"
                                                                icon="@(item.IsActive ? "text-success fa-unlock-alt" : "text-danger fa-lock")"></TableRowBotton>

                                                <TableRowBotton controller="UserManage" action="EditPassword" Id="@item.Id"
                                                                isModal="true"
                                                                modalTitle="تغییر رمز عبور"
                                                                title="تغییر رمز عبور"
                                                                icon="fa-key text-warning"></TableRowBotton>


                                                <TableRowBotton controller="UserManage" action="SetRole" Id="@item.Id"
                                                                isModal="true"
                                                                modalTitle="مدیریت نقش"
                                                                title="مدیریت نقش"
                                                                icon="fa fa-users text-primary"></TableRowBotton>




                                                @*<a class="fa fa-key text-warning dd" asp-controller="UserManage" asp-action="SendSmsToUsers"
                                                       title="تغییر رمز عبور" data-toggle="tooltip"></a>

                                                    <a class="fa fa fa-users text-primary dd" asp-controller="UserManage" asp-action="SendSmsToUsers"
                                                       title="نقش" data-toggle="tooltip"></a>

                                                    <a class="fa fa-paper-plane text-primary dd" asp-controller="UserManage" asp-action="SendSmsToUsers"
                                                       title="ارسال پیامک به کاربر" data-toggle="tooltip"></a>*@

                                            </td>
                                        </tr>
                                    }
                                </tbody>
                            </table>
                            @Html.Partial("~/Views/Shared/_Pagination.cshtml")
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

