@using DataLayer.DTO;
@using DNTPersianUtils.Core;
@model List<NewsDTO>
@{
    ViewData["Title"] = "لیست اخبار";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="col-lg-12 col-xl-12 col-md-12 col-sm-12">

   

    <TableBotton area="News" controller="ManageNews" action="Insert"
                 title="ثبت"
                 icon="fa-plus"
                 buttonClass="btn-primary"></TableBotton>

    <span class="hidden" data-role-table-btn-area-access="">

        
        <TableBotton area="News" controller="ManageNews" action="Update"
                     title="ویرایش"
                     icon="fa-pencil-square-o"
                     buttonClass="btn-warning"></TableBotton>

        
        <TableBotton area="News" controller="ManageNews" action="Delete"
                     title="حذف"
                     icon="fa-trash-o"
                     buttonClass="btn-danger"></TableBotton>

    </span>

</div>


<div class="col-lg-12 col-xl-12 col-md-12 col-sm-12">
    @*<i class="fa fa-calendar" aria-hidden="true"></i>

        <i class="fa fa-bath" aria-hidden="true"></i>*@
    <table class="table table-responsive table-striped rounded table-hover table-bordered ">
        <thead>

            <tr>
                <th width="3%"></th>
                <th width="50px">
                    ردیف
                </th>
                <th>عنوان</th>
                <th>خلاصه خبر</th>
                <th>تاریخ</th>
                <th>تعداد بازدید</th>

            </tr>
        </thead>
        <tbody>
            <tr>
                <form method="post">
                    <td>---</td>
                    <td>---</td>
                    <td><input type="text" value="@ViewBag.SearchModel.Title" name="Title" class="form-control searchInput" /></td>
                    <td><input type="text" value="@ViewBag.SearchModel.SummeryNews" name="SummeryNews" class="form-control searchInput" /></td>
                    <td>
                        <persiandatetimepicker name="ddd"></persiandatetimepicker>
                        @*<persiandatetimepicker defaultvalue="@(ViewBag.SearchModel.Date != DateTime.MinValue ? ViewBag.SearchModel.Date : "")" name="Date"></persiandatetimepicker>*@
                        @*<input type="text" value="@(ViewBag.SearchModel.Date != DateTime.MinValue ? ViewBag.SearchModel.Date : "")" name="Date" class="form-control searchInput" />*@@*<input type="text" value="@(ViewBag.SearchModel.Date != DateTime.MinValue ? ViewBag.SearchModel.Date : "")" name="Date" class="form-control searchInput" />*@
                    </td>
                    <td>---</td>
                    <input type="submit" class="hidden searchBtn" value="جستجو" />
                </form>
            </tr>


            @{var index = 1;}
            @if (Model != null && Model.Count != 0)
            {

                @foreach (NewsDTO item in Model)
                {
                    <tr>
                        <td><input type="checkbox" data-role-table-checkbox="@item.Id"></td>
                        <th>@(index++)</th>
                        <td>@item.Title</td>
                        <td>@(item.SummeryNews.Length > 40 ? item.SummeryNews.Substring(0, 40) : item.SummeryNews)</td>
                        <td class="direction-ltr">@item.Date.ToShortPersianDateTimeString()</td>
                        <td>@item.ViewCount</td>
                        @*<td>
                                <a data-toggle="tooltip" title="ویرایش" href="/News/ManageNews/Update/@item.Id" data-role="confirm">
                                    <i class="fa fa-pencil-square-o text-yellow pe-2x" aria-hidden="true"></i>
                                </a>

                                <a data-toggle="tooltip" title="حذف" href="/News/ManageNews/Delete/@item.Id" data-role="confirm">
                                    <i class="fa fa-trash-o text-danger pe-2x" aria-hidden="true"></i>
                                </a>
                            </td>*@
                    </tr>

                }
            }
            else
            {
                <tr>
                    <td colspan="6" class="text-danger">رکوردی یافت نشد</td>
                </tr>
            }
        </tbody>
    </table>

    @Html.Partial("~/Views/Shared/_Pagination.cshtml")



</div>
